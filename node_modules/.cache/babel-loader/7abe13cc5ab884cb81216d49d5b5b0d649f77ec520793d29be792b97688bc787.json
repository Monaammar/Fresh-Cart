{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/user/app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/user/app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/user/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/user/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import axios from\"axios\";import Slider from\"react-slick\";import{CartContext}from\"../../Context/CartContext\";import toast from\"react-hot-toast\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductDetails(){var _details$images,_details$category;var _useParams=useParams(),id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),details=_useState2[0],setDetails=_useState2[1];var _useContext=useContext(CartContext),addToCart=_useContext.addToCart,setNumberOfCartItems=_useContext.setNumberOfCartItems;var settings={dots:true,infinite:true,speed:500,slidesToShow:1,slidesToScroll:1,arrows:true,autoplay:true};function getProduct(){return _getProduct.apply(this,arguments);}function _getProduct(){_getProduct=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://ecommerce.routemisr.com/api/v1/products/\".concat(id));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;console.log(data.data);setDetails(data.data);case 6:case\"end\":return _context.stop();}},_callee);}));return _getProduct.apply(this,arguments);}function addProductToCart(_x){return _addProductToCart.apply(this,arguments);}function _addProductToCart(){_addProductToCart=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var _yield$addToCart,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return addToCart(id);case 2:_yield$addToCart=_context2.sent;data=_yield$addToCart.data;console.log(data);if(data.status==='success'){toast.success(data.message);setNumberOfCartItems(data.numOfCartItems);}case 6:case\"end\":return _context2.stop();}},_callee2);}));return _addProductToCart.apply(this,arguments);}useEffect(function(){getProduct();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center mt-2\",children:[console.log(details),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({},settings),{},{children:(_details$images=details.images)===null||_details$images===void 0?void 0:_details$images.map(function(img){return/*#__PURE__*/_jsx(\"img\",{src:img,className:\"w-100\",alt:details.title},details._id);})}))}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-9\",children:[/*#__PURE__*/_jsx(\"h2\",{children:details.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:details.description}),/*#__PURE__*/_jsx(\"h6\",{children:(_details$category=details.category)===null||_details$category===void 0?void 0:_details$category.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[details.price,\"EGP\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-star\"}),details.ratingsAverage]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success w-100\",onClick:function onClick(){addProductToCart(id);},children:\"ADD TO CART\"})]})]});}export default ProductDetails;","map":{"version":3,"names":["React","useContext","useEffect","useState","useParams","axios","Slider","CartContext","toast","jsx","_jsx","jsxs","_jsxs","ProductDetails","_details$images","_details$category","_useParams","id","_useState","_useState2","_slicedToArray","details","setDetails","_useContext","addToCart","setNumberOfCartItems","settings","dots","infinite","speed","slidesToShow","slidesToScroll","arrows","autoplay","getProduct","_getProduct","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_callee$","_context","prev","next","get","concat","sent","console","log","stop","addProductToCart","_x","_addProductToCart","_callee2","_yield$addToCart","_callee2$","_context2","status","success","message","numOfCartItems","className","children","_objectSpread","images","map","img","src","alt","title","_id","description","category","name","price","ratingsAverage","onClick"],"sources":["C:/Users/user/app/src/Pages/ProductDetails/ProductDetails.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Slider from \"react-slick\";\r\nimport { CartContext } from \"../../Context/CartContext\";\r\nimport toast from \"react-hot-toast\";\r\nfunction ProductDetails() {\r\n  let { id } = useParams();\r\n  const [details, setDetails] = useState([]);\r\n  const { addToCart,setNumberOfCartItems } = useContext(CartContext);\r\n  const settings = {\r\n    dots: true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    arrows:true,\r\n    autoplay:true,\r\n  };\r\n  async function getProduct() {\r\n    let { data } = await axios.get(\r\n      `https://ecommerce.routemisr.com/api/v1/products/${id}`\r\n    );\r\n    console.log(data.data);\r\n    setDetails(data.data);\r\n  }\r\n\r\n  async function addProductToCart(id) {\r\n    let {data} = await addToCart(id);\r\n    console.log(data);\r\n    if(data.status==='success'){\r\n      toast.success(data.message)\r\n      setNumberOfCartItems(data.numOfCartItems)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    getProduct();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"row align-items-center mt-2\">\r\n      {console.log(details)}\r\n      <div className=\"col-md-3\">\r\n        <Slider {...settings}>\r\n          {details.images?.map((img) => (\r\n            <img\r\n              src={img}\r\n              className=\"w-100\"\r\n              alt={details.title}\r\n              key={details._id}\r\n            />\r\n          ))}\r\n        </Slider>\r\n      </div>\r\n      <div className=\"col-md-9\">\r\n        <h2>{details.title}</h2>\r\n        <p className=\"text-muted\">{details.description}</p>\r\n        <h6>{details.category?.name}</h6>\r\n        <div className=\"d-flex mb-2\">\r\n          <div className=\"col-6\">{details.price}EGP</div>\r\n          <div className=\"col-6\">\r\n            <i className=\"fa-solid fa-star\"></i>\r\n            {details.ratingsAverage}\r\n          </div>\r\n         \r\n        </div>\r\n        <button className=\"btn btn-success w-100\"onClick={()=>{addProductToCart(id)}}>ADD TO CART</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}