{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/user/app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/user/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/user/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{Link}from\"react-router-dom\";import emptyCart from\"../../assets/images/empty cart.png\";import{ListContext}from\"../../Context/WishListContext\";import toast from\"react-hot-toast\";import{CartContext}from\"../../Context/CartContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var List=function List(){var _data$data;var _useContext=useContext(ListContext),getLoggedList=_useContext.getLoggedList,deleteListItem=_useContext.deleteListItem;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useContext2=useContext(CartContext),addToCart=_useContext2.addToCart;function deleteItem(_x){return _deleteItem.apply(this,arguments);}function _deleteItem(){_deleteItem=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var _yield$deleteListItem,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return deleteListItem(id);case 2:_yield$deleteListItem=_context.sent;data=_yield$deleteListItem.data;setData(data);case 5:case\"end\":return _context.stop();}},_callee);}));return _deleteItem.apply(this,arguments);}function addProductToCart(_x2){return _addProductToCart.apply(this,arguments);}// async function addProductToCart(id) {\n//   let { data } = await addToCart(id);\n//   console.log(data);\n//   if (data.status === \"success\") {\n//     toast.success(data.message);\n//   }\nfunction _addProductToCart(){_addProductToCart=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(productid){var _yield$addToCart,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return addToCart(productid);case 2:_yield$addToCart=_context2.sent;data=_yield$addToCart.data;if(data.status===\"success\"){toast.success(data.message);}case 5:case\"end\":return _context2.stop();}},_callee2);}));return _addProductToCart.apply(this,arguments);}function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var _yield$getLoggedList,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return getLoggedList();case 2:_yield$getLoggedList=_context3.sent;data=_yield$getLoggedList.data;// console.log(data.data);\nsetData(data);case 5:case\"end\":return _context3.stop();}},_callee3);}));return _getData.apply(this,arguments);}useEffect(function(){getData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 \",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-success\",children:\"Wish List\"}),(data===null||data===void 0?void 0:data.count)>0?data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.map(function(product){return/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center gy-2 border-bottom py-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"img\",{src:product.imageCover,className:\"w-100 mb-2\",alt:product.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-10 mb-2\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-success\",children:product.title}),/*#__PURE__*/_jsxs(\"p\",{children:[product.price,\" EGP\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"cursor-pointer\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-trash mx-2 text-danger\",onClick:function onClick(){deleteItem(product._id);}}),\"Remove\"]})]})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success w-25 mx-auto\",onClick:function onClick(){addProductToCart(product._id);},children:\"ADD TO CART\"})]},product._id);}):/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center flex-column align-items-center\",children:/*#__PURE__*/_jsx(\"img\",{src:emptyCart,className:\"w-50\"})})]});};export default List;","map":{"version":3,"names":["React","useContext","useEffect","useState","useParams","Link","emptyCart","ListContext","toast","CartContext","jsx","_jsx","jsxs","_jsxs","List","_data$data","_useContext","getLoggedList","deleteListItem","_useState","_useState2","_slicedToArray","data","setData","_useContext2","addToCart","deleteItem","_x","_deleteItem","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","_yield$deleteListItem","wrap","_callee$","_context","prev","next","sent","stop","addProductToCart","_x2","_addProductToCart","_callee2","productid","_yield$addToCart","_callee2$","_context2","status","success","message","getData","_getData","_callee3","_yield$getLoggedList","_callee3$","_context3","className","children","count","map","product","src","imageCover","alt","title","price","onClick","_id"],"sources":["C:/Users/user/app/src/Pages/WishList/WishList.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport emptyCart from \"../../assets/images/empty cart.png\";\r\nimport { ListContext } from \"../../Context/WishListContext\";\r\n\r\nimport toast from \"react-hot-toast\";\r\nimport { CartContext } from \"../../Context/CartContext\";\r\n\r\nconst List = () => {\r\n  const { getLoggedList, deleteListItem } = useContext(ListContext);\r\n  const [data, setData] = useState({});\r\n  const {addToCart}=useContext(CartContext)\r\n  async function deleteItem(id) {\r\n    const { data } = await deleteListItem(id);\r\n    setData(data);\r\n  }\r\n  async function addProductToCart(productid){\r\n    let {data}=await addToCart(productid);\r\n    if (data.status===\"success\")\r\n    {\r\n      toast.success(data.message);\r\n    }\r\n  }\r\n  // async function addProductToCart(id) {\r\n  //   let { data } = await addToCart(id);\r\n  //   console.log(data);\r\n  //   if (data.status === \"success\") {\r\n  //     toast.success(data.message);\r\n  //   }\r\n  \r\n  async function getData() {\r\n    let { data } = await getLoggedList();\r\n    // console.log(data.data);\r\n    setData(data);\r\n  }\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-3 \">\r\n      <h2 className=\"text-success\">Wish List</h2>\r\n\r\n      {data?.count > 0 ? (\r\n        data?.data?.map((product) => (\r\n          <div\r\n            className=\"row align-items-center gy-2 border-bottom py-3\"\r\n            key={product._id}\r\n          >\r\n            <div className=\"col-10\">\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-2\">\r\n                  <img\r\n                    src={product.imageCover}\r\n                    className=\"w-100 mb-2\"\r\n                    alt={product.title}\r\n                  />\r\n                </div>\r\n                <div className=\"col-10 mb-2\">\r\n                  <h6 className=\"text-success\">{product.title}</h6>\r\n                  <p>{product.price} EGP</p>\r\n                  <p className=\"cursor-pointer\">\r\n                    <i\r\n                      className=\"fa-solid fa-trash mx-2 text-danger\"\r\n                      onClick={() => {\r\n                        deleteItem(product._id);\r\n                      }}\r\n                    ></i>\r\n                    Remove\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <button\r\n              className=\"btn btn-success w-25 mx-auto\"\r\n              onClick={() => {\r\n                addProductToCart(product._id);\r\n              }}\r\n            >\r\n              ADD TO CART\r\n            </button>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <div className=\"d-flex justify-content-center flex-column align-items-center\">\r\n          <img src={emptyCart} className=\"w-50\"></img>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default List;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}