{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/user/app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/user/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/user/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import{useFormik}from\"formik\";import{CartContext}from\"../../Context/CartContext\";import*as Yup from\"yup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CheckOut(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),isError=_useState2[0],setIsError=_useState2[1];var _useContext=useContext(CartContext),OnlinePayment=_useContext.OnlinePayment,cartId=_useContext.cartId;function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values){var _yield$OnlinePayment,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(values);_context.next=3;return OnlinePayment(cartId,values);case 3:_yield$OnlinePayment=_context.sent;data=_yield$OnlinePayment.data;console.log(data);if(data.status===\"success\"){console.log(data.session.url);window.location.href=data.session.url;}case 7:case\"end\":return _context.stop();}},_callee);}));return _handleSubmit.apply(this,arguments);}var formik=useFormik({initialValues:{details:\"\",phone:\"\",city:\"\"},validationSchema:Yup.object({details:Yup.string().required(),phone:Yup.string().required().matches(/^01[0125]\\d{8}$/,\"Phone is Invalid\"),city:Yup.string().required()}),onSubmit:handleSubmit});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"my-3 text-success fw-bold\",children:\"CheckOut\"}),isError&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:isError}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"details\",className:\"form-label\",children:\"Details\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"details\",id:\"details\",className:\"form-control\",value:formik.values.details,onChange:formik.handleChange,onBlur:formik.handleBlur}),formik.touched.details&&formik.errors.details?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:formik.errors.details}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"phone\",className:\"form-label\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone\",id:\"phone\",className:\"form-control\",value:formik.values.phone,onChange:formik.handleChange,onBlur:formik.handleBlur}),formik.touched.phone&&formik.errors.phone?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:formik.errors.phone}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"city\",className:\"form-label\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"city\",id:\"city\",className:\"form-control\",value:formik.values.city,onChange:formik.handleChange,onBlur:formik.handleBlur}),formik.touched.city&&formik.errors.city?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:formik.errors.city}):null]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success my-3\",children:\"Pay Now\"})]})]});}export default CheckOut;","map":{"version":3,"names":["React","useContext","useState","useFormik","CartContext","Yup","jsx","_jsx","jsxs","_jsxs","CheckOut","_useState","_useState2","_slicedToArray","isError","setIsError","_useContext","OnlinePayment","cartId","handleSubmit","_x","_handleSubmit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","_yield$OnlinePayment","data","wrap","_callee$","_context","prev","next","console","log","sent","status","session","url","window","location","href","stop","formik","initialValues","details","phone","city","validationSchema","object","string","required","matches","onSubmit","children","className","for","type","name","id","value","onChange","handleChange","onBlur","handleBlur","touched","errors"],"sources":["C:/Users/user/app/src/Pages/CheckOut/CheckOut.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { useFormik } from \"formik\";\r\nimport { CartContext } from \"../../Context/CartContext\";\r\nimport * as Yup from \"yup\";\r\n\r\nfunction CheckOut() {\r\n  const [isError, setIsError] = useState(null);\r\n  const { OnlinePayment, cartId } = useContext(CartContext);\r\n\r\n  async function handleSubmit(values) {\r\n    console.log(values);\r\n    const { data } = await OnlinePayment(cartId, values);\r\n    console.log(data);\r\n    if (data.status === \"success\") {\r\n      console.log(data.session.url);\r\n      window.location.href = data.session.url;\r\n    }\r\n  }\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      details: \"\",\r\n      phone: \"\",\r\n      city: \"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      details: Yup.string().required(),\r\n      phone: Yup.string()\r\n        .required()\r\n        .matches(/^01[0125]\\d{8}$/, \"Phone is Invalid\"),\r\n      city: Yup.string().required(),\r\n    }),\r\n    onSubmit: handleSubmit,\r\n  });\r\n  return (\r\n    <div>\r\n      <h3 className=\"my-3 text-success fw-bold\">CheckOut</h3>\r\n      {isError && <div className=\"alert alert-danger\">{isError}</div>}\r\n\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <div className=\"mb-3\">\r\n          <label for=\"details\" className=\"form-label\">\r\n            Details\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"details\"\r\n            id=\"details\"\r\n            className=\"form-control\"\r\n            value={formik.values.details}\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n          />\r\n          {formik.touched.details && formik.errors.details ? (\r\n            <div className=\"alert alert-danger\">{formik.errors.details}</div>\r\n          ) : null}\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label for=\"phone\" className=\"form-label\">\r\n            Phone\r\n          </label>\r\n          <input\r\n            type=\"tel\"\r\n            name=\"phone\"\r\n            id=\"phone\"\r\n            className=\"form-control\"\r\n            value={formik.values.phone}\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n          />\r\n          {formik.touched.phone && formik.errors.phone ? (\r\n            <div className=\"alert alert-danger\">{formik.errors.phone}</div>\r\n          ) : null}\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label for=\"city\" className=\"form-label\">\r\n            City\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"city\"\r\n            id=\"city\"\r\n            className=\"form-control\"\r\n            value={formik.values.city}\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n          />\r\n          {formik.touched.city && formik.errors.city ? (\r\n            <div className=\"alert alert-danger\">{formik.errors.city}</div>\r\n          ) : null}\r\n        </div>\r\n        <button className=\"btn btn-success my-3\">Pay Now</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckOut;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}